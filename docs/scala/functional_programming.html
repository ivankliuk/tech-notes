
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Functional Programming &#8212; Tech Notes  documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Function composition" href="function_composition.html" />
    <link rel="prev" title="Scala" href="index.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="functional-programming">
<h1>Functional Programming<a class="headerlink" href="#functional-programming" title="Permalink to this headline">¶</a></h1>
<div class="section" id="higher-order-function">
<h2>Higher order function<a class="headerlink" href="#higher-order-function" title="Permalink to this headline">¶</a></h2>
<p>A function but which performs one or both of the following things:</p>
<ul class="simple">
<li>Take other functions as arguments;</li>
<li>Return functions as their results.</li>
</ul>
</div>
<div class="section" id="function-literal">
<span id="id1"></span><h2>Function literal<a class="headerlink" href="#function-literal" title="Permalink to this headline">¶</a></h2>
<p>A function literal is an alternate syntax for defining a function.
It’s useful for when you want to pass a function as an argument to a method
(especially a higher-order one like a fold or a filter operation) but you don’t
want to define a separate function. Function literals are anonymous - they don’t
have a name by default, but you can give them a name by binding them to
a variable:</p>
<div class="literal-block-wrapper docutils container" id="id2">
<div class="code-block-caption"><span class="caption-text">Usage</span><a class="headerlink" href="#id2" title="Permalink to this code">¶</a></div>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="c1">// res0: (Int, Int) =&gt; Int = $$Lambda$5584/1797607710@953f466</span>

<span class="c1">// You can bind them to variables:</span>
<span class="k">val</span> <span class="n">mul</span> <span class="k">=</span> <span class="o">(</span><span class="n">x</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">y</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span> <span class="k">=&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>
<span class="c1">// mul: (Int, Int) =&gt; Int = $$Lambda$5586/1640763669@7d0a1a1e</span>

<span class="n">mul</span><span class="o">(</span><span class="mi">3</span><span class="o">,</span> <span class="mi">2</span><span class="o">)</span>
<span class="c1">// res2: Int = 6</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="lambda-function">
<h2>Lambda function<a class="headerlink" href="#lambda-function" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="tail-recursion">
<h2>Tail recursion<a class="headerlink" href="#tail-recursion" title="Permalink to this headline">¶</a></h2>
<p>A call is said to be in tail position if the caller does nothing other than
return the value of the recursive call.</p>
<p><cite>scala.annotation.tailrec</cite> annotation gets information about whether method is
optimised. You will then get a warning if they are not optimised by the compiler
and compilation will fail.</p>
<div class="literal-block-wrapper docutils container" id="id3">
<div class="code-block-caption"><span class="caption-text">Failed tail recursive function</span><a class="headerlink" href="#id3" title="Permalink to this code">¶</a></div>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">scala.annotation.tailrec</span>

<span class="nd">@tailrec</span>
<span class="k">def</span> <span class="n">factorial</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">go</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">acc</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="n">acc</span>
    <span class="k">else</span> <span class="n">go</span><span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">n</span> <span class="o">*</span> <span class="n">acc</span><span class="o">)</span>
  <span class="n">go</span><span class="o">(</span><span class="n">n</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
<span class="o">}</span>

<span class="c1">// error: @tailrec annotated method contains no recursive calls</span>
<span class="c1">//       def factorial(n: Int): Int = {</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id4">
<div class="code-block-caption"><span class="caption-text">Working recursive function</span><a class="headerlink" href="#id4" title="Permalink to this code">¶</a></div>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">scala.annotation.tailrec</span>

<span class="k">def</span> <span class="n">factorial</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span> <span class="o">{</span>
  <span class="nd">@tailrec</span>
  <span class="k">def</span> <span class="n">go</span><span class="o">(</span><span class="n">n</span><span class="k">:</span> <span class="kt">Int</span><span class="o">,</span> <span class="n">acc</span><span class="k">:</span> <span class="kt">Int</span><span class="o">)</span><span class="k">:</span> <span class="kt">Int</span> <span class="o">=</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">n</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="o">)</span> <span class="n">acc</span>
    <span class="k">else</span> <span class="n">go</span><span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">,</span> <span class="n">n</span> <span class="o">*</span> <span class="n">acc</span><span class="o">)</span>
  <span class="n">go</span><span class="o">(</span><span class="n">n</span><span class="o">,</span> <span class="mi">1</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="currying">
<h2>Currying<a class="headerlink" href="#currying" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="option">
<h2>Option<a class="headerlink" href="#option" title="Permalink to this headline">¶</a></h2>
<div class="literal-block-wrapper docutils container" id="id5">
<div class="code-block-caption"><span class="caption-text">Rough definition</span><a class="headerlink" href="#id5" title="Permalink to this code">¶</a></div>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">object</span> <span class="nc">Option</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">apply</span><span class="o">[</span><span class="kt">A</span><span class="o">](</span><span class="n">x</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span><span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="k">if</span> <span class="o">(</span><span class="n">x</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="nc">None</span> <span class="k">else</span> <span class="nc">Some</span><span class="o">(</span><span class="n">x</span><span class="o">)</span>
  <span class="k">def</span> <span class="n">empty</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">:</span> <span class="kt">Option</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="k">=</span> <span class="nc">None</span>
<span class="o">}</span>

<span class="k">sealed</span> <span class="k">abstract</span> <span class="k">class</span> <span class="nc">Option</span><span class="o">[</span><span class="kt">+A</span><span class="o">]</span> <span class="nc">extends</span> <span class="nc">Product</span> <span class="k">with</span> <span class="nc">Serializable</span> <span class="o">{</span>
  <span class="n">self</span> <span class="k">=&gt;</span> <span class="o">???</span>
<span class="o">}</span>

<span class="k">final</span> <span class="k">case</span> <span class="k">class</span> <span class="nc">Some</span><span class="o">[</span><span class="kt">+A</span><span class="o">](</span><span class="n">x</span><span class="k">:</span> <span class="kt">A</span><span class="o">)</span> <span class="k">extends</span> <span class="nc">Option</span><span class="o">[</span><span class="kt">A</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">isEmpty</span> <span class="k">=</span> <span class="kc">false</span>
  <span class="k">def</span> <span class="n">get</span> <span class="k">=</span> <span class="n">x</span>
<span class="o">}</span>

<span class="k">case</span> <span class="k">object</span> <span class="nc">None</span> <span class="k">extends</span> <span class="nc">Option</span><span class="o">[</span><span class="kt">Nothing</span><span class="o">]</span> <span class="o">{</span>
  <span class="k">def</span> <span class="n">isEmpty</span> <span class="k">=</span> <span class="kc">true</span>
  <span class="k">def</span> <span class="n">get</span> <span class="k">=</span> <span class="k">throw</span> <span class="k">new</span> <span class="nc">NoSuchElementException</span><span class="o">(</span><span class="s">&quot;None.get&quot;</span><span class="o">)</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="either">
<h2>Either<a class="headerlink" href="#either" title="Permalink to this headline">¶</a></h2>
<p>TODO</p>
</div>
<div class="section" id="tuple">
<h2>Tuple<a class="headerlink" href="#tuple" title="Permalink to this headline">¶</a></h2>
<p>Tuples combine a fixed number of items together so that they can be passed
around as whole. A tuple is immutable and can hold objects with different types,
unlike an array or list.</p>
</div>
<div class="section" id="referential-transparency">
<h2>Referential transparency<a class="headerlink" href="#referential-transparency" title="Permalink to this headline">¶</a></h2>
<p>An expression is called referentially transparent if it can be replaced with
its corresponding value without changing the program’s behavior. This requires
that the expression is pure, that is to say the expression value must be
the same for the same inputs and its evaluation must have no side effects.</p>
<div class="literal-block-wrapper docutils container" id="id6">
<div class="code-block-caption"><span class="caption-text">String vs. StringBuilder</span><a class="headerlink" href="#id6" title="Permalink to this code">¶</a></div>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">val</span> <span class="n">x</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">)</span>
<span class="c1">// x: StringBuilder = Hello</span>

<span class="k">val</span> <span class="n">y</span> <span class="k">=</span> <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="o">(</span><span class="s">&quot;, World&quot;</span><span class="o">)</span>
<span class="c1">// y: StringBuilder = Hello, World</span>

<span class="k">val</span> <span class="n">r1</span> <span class="k">=</span> <span class="n">y</span><span class="o">.</span><span class="n">toString</span>
<span class="c1">// r1: String = Hello, World</span>

<span class="k">val</span> <span class="n">r2</span> <span class="k">=</span> <span class="n">y</span><span class="o">.</span><span class="n">toString</span>
<span class="c1">// r2: String = Hello, World</span>

<span class="c1">// r1 and r2 are the same</span>

<span class="k">val</span> <span class="n">x</span> <span class="k">=</span> <span class="k">new</span> <span class="nc">StringBuilder</span><span class="o">(</span><span class="s">&quot;Hello&quot;</span><span class="o">)</span>
<span class="c1">// x: StringBuilder = Hello</span>

<span class="k">val</span> <span class="n">r1</span> <span class="k">=</span> <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="o">(</span><span class="s">&quot;, World&quot;</span><span class="o">).</span><span class="n">toString</span>
<span class="c1">// r1: String = Hello, World</span>

<span class="n">scala</span><span class="o">&gt;</span> <span class="k">val</span> <span class="n">r2</span> <span class="k">=</span> <span class="n">x</span><span class="o">.</span><span class="n">append</span><span class="o">(</span><span class="s">&quot;, World&quot;</span><span class="o">).</span><span class="n">toString</span>
<span class="c1">// r2: String = Hello, World, World</span>

<span class="c1">// r1 and r2 are not the same because of StringBuilder has internal state</span>
<span class="c1">// and is not a pure function.</span>
</pre></div>
</div>
</div>
<div class="literal-block-wrapper docutils container" id="id7">
<div class="code-block-caption"><span class="caption-text">Future vs. IO</span><a class="headerlink" href="#id7" title="Permalink to this code">¶</a></div>
<div class="highlight-scala notranslate"><div class="highlight"><pre><span></span><span class="k">import</span> <span class="nn">cats.effect.IO</span>
<span class="k">import</span> <span class="nn">scala.concurrent.</span><span class="o">{</span> <span class="nc">Await</span><span class="o">,</span> <span class="nc">Future</span><span class="o">}</span>
<span class="k">import</span> <span class="nn">scala.concurrent.ExecutionContext.Implicits.global</span>
<span class="k">import</span> <span class="nn">scala.concurrent.duration._</span>

<span class="k">val</span> <span class="n">prnF</span> <span class="k">=</span> <span class="nc">Future</span> <span class="o">{</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;Hello from Future!&quot;</span><span class="o">);</span> <span class="mi">1</span> <span class="o">}</span>
<span class="c1">// Hello from Future!</span>
<span class="c1">// prnF: scala.concurrent.Future[Int] = Future(Success(1))</span>

<span class="k">val</span> <span class="n">prnIO</span> <span class="k">=</span> <span class="nc">IO</span> <span class="o">{</span> <span class="n">println</span><span class="o">(</span><span class="s">&quot;Hello from IO!&quot;</span><span class="o">);</span> <span class="mi">1</span><span class="o">}</span>
<span class="c1">// prnIO: cats.effect.IO[Int] = IO$684479575</span>

<span class="k">val</span> <span class="n">fRes</span> <span class="k">=</span> <span class="k">for</span> <span class="o">{</span>
  <span class="n">f1</span> <span class="k">&lt;-</span> <span class="n">prnF</span>
  <span class="n">f2</span> <span class="k">&lt;-</span> <span class="n">prnF</span>
<span class="o">}</span> <span class="k">yield</span> <span class="n">f1</span> <span class="o">+</span> <span class="n">f2</span>
<span class="c1">// fRes: scala.concurrent.Future[Int] = Future(&lt;not completed&gt;)</span>

<span class="nc">Await</span><span class="o">.</span><span class="n">result</span><span class="o">(</span><span class="n">fRes</span><span class="o">,</span> <span class="mf">2.</span><span class="n">seconds</span><span class="o">)</span> <span class="o">==</span> <span class="mi">2</span>
<span class="c1">// res0: Boolean = true</span>

<span class="k">val</span> <span class="n">ioRes</span> <span class="k">=</span> <span class="k">for</span> <span class="o">{</span>
  <span class="n">io1</span> <span class="k">&lt;-</span> <span class="n">prnIO</span>
  <span class="n">io2</span> <span class="k">&lt;-</span> <span class="n">prnIO</span>
<span class="o">}</span> <span class="k">yield</span> <span class="n">io1</span> <span class="o">+</span> <span class="n">io2</span>
<span class="c1">// ioRes: cats.effect.IO[Int] = IO$985832276</span>

<span class="n">ioRes</span><span class="o">.</span><span class="n">unsafeRunSync</span><span class="o">()</span> <span class="o">==</span> <span class="mi">2</span>
<span class="c1">// Hello from IO!</span>
<span class="c1">// Hello from IO!</span>
<span class="c1">// res1: Boolean = true</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">Tech Notes</a></h1>



<p class="blurb">A knot in my hanky</p>






<h3>Navigation</h3>
<p class="caption"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oop/index.html">Object oriented programming</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python/index.html">Python</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Scala</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Functional Programming</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#higher-order-function">Higher order function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-literal">Function literal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#lambda-function">Lambda function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tail-recursion">Tail recursion</a></li>
<li class="toctree-l3"><a class="reference internal" href="#currying">Currying</a></li>
<li class="toctree-l3"><a class="reference internal" href="#option">Option</a></li>
<li class="toctree-l3"><a class="reference internal" href="#either">Either</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tuple">Tuple</a></li>
<li class="toctree-l3"><a class="reference internal" href="#referential-transparency">Referential transparency</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="function_composition.html">Function composition</a></li>
<li class="toctree-l2"><a class="reference internal" href="implicits.html">Implicits</a></li>
<li class="toctree-l2"><a class="reference internal" href="type_class.html">Type class</a></li>
<li class="toctree-l2"><a class="reference internal" href="context_bound.html">Context Bound</a></li>
<li class="toctree-l2"><a class="reference internal" href="evaluation_models.html">Evaluation models</a></li>
<li class="toctree-l2"><a class="reference internal" href="single_abstract_method.html">Single Abstract Method (SAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="structural_type.html">Structural type</a></li>
<li class="toctree-l2"><a class="reference internal" href="value_class.html">Value classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="cats_library/index.html">Cats library</a></li>
<li class="toctree-l2"><a class="reference internal" href="class.html">Class</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../multithreading/index.html">Multithreading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../web/index.html">Web</a></li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Architecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../messaging_systems/index.html">Messaging systems</a></li>
</ul>


<hr />
<ul>
    
    <li class="toctree-l1"><a href="https://github.com/ivankliuk/tech-notes">Sources</a></li>
    
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Scala</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Scala</a></li>
      <li>Next: <a href="function_composition.html" title="next chapter">Function composition</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Ivan Kliuk.
      
      |
      <a href="../_sources/scala/functional_programming.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-120714400-1']);
      _gaq.push(['_setDomainName', 'none']);
      _gaq.push(['_setAllowLinker', true]);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>
    
  </body>
</html>